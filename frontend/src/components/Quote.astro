---
import { fetchApi } from "../lib/strapi";

interface QuoteData {
  text: string;
  author: string;
}

let quote;
try {
  quote = await fetchApi<QuoteData>({
    endpoint: "quote",
    query: "",
  });
} catch (e) {
  quote = null;
}

if (!quote) {
  quote = {
    text: "Sprawność fizyczna jest pierwszym warunkiem szczęścia.",
    author: "JOSEPH PILATES",
  };
}
---

<section class="py-24 bg-primary text-white">
  <div class="max-w-7xl mx-auto px-4 text-center">
    <span class="material-icons-outlined text-4xl mb-8 opacity-40"
      >format_quote</span
    >
    <blockquote
      class="text-[32px] leading-[35px] font-accent font-light italic mb-10 max-w-4xl mx-auto"
    >
      "{quote.text}"
    </blockquote>
    <cite class="not-italic uppercase tracking-widest text-sm opacity-80"
      >— {quote.author}</cite
    >
  </div>
</section>
